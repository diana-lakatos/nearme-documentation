= simple_form_for @liquid_view, as: :liquid_view, url: @liquid_view.persisted? ? instance_admin_theme_liquid_view_path(@liquid_view) : instance_admin_theme_liquid_views_path, method: @liquid_view.persisted? ? :put : :post do |f|
  .content-container
    %h4
      = link_to 'Manage liquid view', instance_admin_theme_liquid_views_url
      - if @liquid_view.path
        &rsaquo;
        = pretty_path(@liquid_view.path)
    .row
      .input-container.col-xs-12
        = f.input :draft, as: :radio_buttons, collection: [['Published', false], ['Draft', true]], label: 'Publication'
    .row
      .input-container.col-xs-12
        = f.input :path, disabled: @liquid_view.persisted?, input_html: { class: 'form-control' }
    .row
      .input-container.col-xs-12
        = f.association :transactable_types, hint: 'Please note that for most liquid views this option is not relevant. For example, it does not make sense to create homepage for different Transactable Type because it does not depend on it. As a rule of thumb, Transactable Type is relevant if url includes transactable_type_id parameter or liquid view displays listing information.'
    .row
      .input-container.col-xs-12
        = f.association :locales
    .row
      .input-container.col-xs-12
        - if @base_view.present?
          = f.input :partial, as: :hidden
        - else
          = f.input :partial
    .row
      .input-container.col-xs-12
        = f.input :body, as: :text, input_html: { class: 'form-control editor', :"data-editor" => 'liquid', rows: '30' }

  = content_for :header_buttons do
    = f.button :submit, t('instance_admin.save'), class: 'btn btn-blue pull-right', data: { 'submit-form' => 1, 'form-selector' => 'form' }
    = link_to t('instance_admin.cancel'), instance_admin_theme_liquid_views_url , class: 'btn btn-light pull-right'
