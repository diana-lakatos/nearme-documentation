= simple_form_for @theme, :url => instance_admin_theme_design_path, :html => { id: 'theme_form', :multipart => true } do |f|
  .content-container
    %h4 Colors
    - Theme::COLORS.each_slice(4).with_index do |colors, index|
      .row
        - colors.each_with_index do |color, color_index|
          .input-container.color-picker-container{ class: 'col-xs-3' }
            = f.input "color_#{color}", :label => t("instance_admin.theme.design.colors.#{color}") do
              - real_color = f.object.hex_color(color).presence || hexify(Theme::COLORS_DEFAULT_VALUES[index*4+color_index])
              .color-picker-color{ style: "background-color: #{real_color}" }
              = f.text_field "color_#{color}", {:type => :text, :value => real_color, 'data-default' => hexify(Theme::COLORS_DEFAULT_VALUES[index*4+color_index]), 'data-color-name' => color, 'class' => 'color-picker-text-field' }
              .default-container
                = link_to "default", '', 'data-reset' => color

    .row
      &nbsp;
  .content-container
    %h4 New dashboard UI
    .row
      - if current_instance.new_ui?
        = link_to "Turn off New UI", revert_to_old_ui_instance_admin_theme_design_path, class: "btn btn-neutral btn-medium", data: { confirm: 'Are you sure?' }
      -else
        = link_to "Turn on New UI", convert_to_new_ui_instance_admin_theme_design_path, class: "btn btn-blue btn-medium", data: { confirm: 'Are you sure?' }

  .content-container
    %h4
      = t('instance_admin.theme.design.visuals')
    = render 'images', f: f

  = render 'font_fields', f: f

  .content-container
    %h4
      = t('instance_admin.theme.design.call_to_action')
    .row
      .input-container.col-xs-12
        = f.input :call_to_action, wrapper_html: { class: 'span6' }, input_html: { class: 'form-control' }

  = content_for :header_buttons do
    = f.button :submit, 'Save', class: 'btn btn-blue pull-right', data: { 'submit-form' => 1, 'form-selector' => 'form' }

- content_for :script do
  = render 'shared/modal'
- content_for :domready do
  window.DNM = {}
  new InstanceAdmin.ThemeController($('#theme_form'))

