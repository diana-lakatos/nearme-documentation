.listing-photos{:'data-photo-aspect-w' => PhotoUploader::SPACE_FULL_IMAGE_W, :'data-photo-aspect-h' => PhotoUploader::SPACE_FULL_IMAGE_H}
  .carousel.slide{id: gallery_id}
    - if listing.photos.any?
      %ol.carousel-indicators
        - listing.photos.each_with_index do |photo, index|
          %li{:class => index.zero? ? "active" : '', :'data-target' => "##{gallery_id}", :'data-slide-to' => index}
            = index+1
      .carousel-inner
        - listing.photos.each_with_index do |photo, index|
          .item{:class => ("active" if index == 0), :'data-modalize' => true}
            = image_tag photo.image_url(photo_size), :alt => photo.content.name
            .info
              - if photo.caption.present?
                .caption
                  = photo.caption
      = yield

    - else
      .carousel-inner
        .item{:class => ("active")}
          = image_tag space_listing_placeholder_path(:height => 554, :width => 895), :title => listing.name, :alt => listing.name

    - if listing.photos.size > 1
      .carousel-nav
        = link_to "", "##{gallery_id}", :class => "carousel-control left ico-chevron-left", 'data-slide' => 'prev'
        = link_to "", "##{gallery_id}", :class => "carousel-control right ico-chevron-right", 'data-slide' => 'next'
