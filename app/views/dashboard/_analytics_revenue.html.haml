.box
  - if @reservation_charges.empty?
    %p.no_data You have not received any payments in the preceding 7 day period.
  - else
    .chart
      .total.right
        - @chart.totals_by_currency.each do |currency, sum|
          .total-number.left
            = "#{currency_content_tag(currency, sum, :span, { :rel => false })}".html_safe
        %span{class: 'total-text'} 7 day total
      %canvas#chart

    %table.table.table-simple
      %thead
        %tr
          %th Amount
          %th Location
          %th Date
      %tbody
        - @reservation_charges.each do |reservation_charge|
          %tr
            %td= currency_content_tag(reservation_charge.currency, reservation_charge.total_amount, :span, { :rel => false }).html_safe
            %td= reservation_charge.reservation.listing.location.name
            %td= reservation_charge.created_at.strftime('%Y-%m-%d')

        - @all_time_totals.each do |total|
          - total = Money.new(total[:sum], total[:currency])
          %tr.total-row
            %td= currency_content_tag(total.currency, total.amount, :span, { :rel => false }).html_safe
            %td all time total
            %td

      = will_paginate @reservation_charges
